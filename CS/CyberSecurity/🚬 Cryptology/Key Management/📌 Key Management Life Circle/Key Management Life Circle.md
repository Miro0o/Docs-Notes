# Key Management Life Circle

[TOC]



## Res


## Intro

### Trusted Authority (TA)



### Key Distribution Center (KDC)



## Key Generation
对于一个密码体制，如何产生好的密钥是非常关键，密钥选择的不当将会极大地影响密码体制的安全性。
好的密钥应当具有良好的随机性和密码特性(例如避 免弱密钥的出现等)。
因此，密钥的生成一般都首先通过密钥产生器借助于某种噪声源产生具有较好统计分布特性的序列，然后 再对这些序列进行各种随机性检验以确保其具有较好的 密码特性。



## Key Storage /Backup
密钥的存储是密钥管理中的一个十分重要的环节，而且也是比较困难的一个环节。所谓 密钥的安全存储就是要确保密钥在存储状态下的秘密性、真实性和完整性。安全可靠的存储 介质是密钥安全存储的物质条件，安全严密的访问控制机制是密钥安全存储的管理条件。只 有当这两个条件同时具备时，才能确保密钥的安全存储。密钥安全存储的原则是不允许密钥 以明文形式出现在密钥管理设备之外。

不同级别的密钥应当采用不同的存储方式:
(1) 主密钥的存储
主密钥是最高级的密钥，主要用于对二级密钥和初级密钥进行保护。主密钥的安全性要 求最高，而且生存周期很长，需要采取最安全的存储方法。

由于主密钥是最高级的密钥，所以它只能以明文形态存储，否则便不能工作。这就要求 存储器必须是高度安全的，不但物理上是安全的，而且逻辑上也是安全的。通常是将其存储 在专用密码装置中。

(2) 密钥加密密钥的存储
密钥加密密钥可以以明文形态存储，也可以以密文形态存储。但是，如果以明文形态存 储，则要求存储器必须是高度安全的，最好是与主密钥一样将其存储在专用密码装置中。如 果以密文形态存储，则对存储器的要求降低。通常采用以主密钥加密的形式存储密钥加密密 钥。这样可减少明文形态密钥的数量，便于管理。

(3) 初级密钥的存储
由于会话密钥按“一次一密”的方式工作，使用时动态产生，使用完毕后即销毁，生命 周期很短。因此，初级会话密钥的存储空间是工作存储器，应当确保工作存储器的安全。而 对于初级文件密钥，由于它的生命周期较长，因此它需要妥善的存储。初级文件密钥一般采 用密文形态存储，通常采用以二级文件密钥加密的形式存储初级文件密钥。

为了进一步确保密钥和加密数据的安全，对密钥进行备份是必要的。目的是一旦密钥遭 到毁坏，可利用备份的密钥恢复出原来的密钥或被加密的数据，避免造成损失。密钥备份本 质上也是一种存储。

密钥的备份是确保密钥和数据安全的一种有备无患的措施。备份的方式有多种，除了用 户自己备份外，也可以交由可信任的第三方进行备份，还可以以密钥分量形态委托密钥托管 机构备份或以门限方案进行密钥分量的分享方式备份。因为有了备份，所以在需要时可以恢 复密钥，从而避免损失。



## 🫱🏻‍🫲🏿 Key Exchange /Aggreement (密钥协商) &  🚚 Key Distribution (密钥分发/分配)
↗ [Key Exchange & Aggreement](Key%20Exchange%20&%20Aggreement/Key%20Exchange%20&%20Aggreement.md)

↗ [Key Distribution](Key%20Distribution/Key%20Distribution.md)


> 密钥分发和密钥协商过程都是用以在保密通信双方之间建立通信所使用密钥的安全协 议(或机制)。在这种协议(或机制)运行结束时，参与协议运行的双方都将得到相同的密钥，同时，所得到的密钥对于其他任何方都是不可知的，当然，可能参与的可信管理机构(TA，Trust Authority)除外。
> 
> 密钥分发与密钥协商过程具有如下的一些区别:密钥分发被定义为一种机制，保密通信 中的一方利用此机制生成并选择秘密密钥，然后把该密钥发送给通信的另一方或通信的其他多方;而密钥协商则是保密通信双方(或更多方)通过公开信道的通信来共同形成秘密密钥的协议。一个密钥协商方案中，用来确定密钥的值是通信双方所提供的输入的函数。
> 
> 在密钥分发与密钥协商过程中，经常利用一个**可信管理机构 TA**，它的作用可能包括: 验证用户身份;产生、选择和传送秘密密钥给用户等等。


![](../../../../../Assets/Pics/Screenshot%202023-05-24%20at%203.12.31%20PM.png)




## Key Termination /Deconstruction
密钥的终止和销毁同样是密钥管理中的重要环节，但是由于种种原因这一环节往往容易

被忽视。 当密钥的使用期限到期时，必须终止使用该密钥，并更换新密钥。所终止使用的密钥，

一般并不要求立即销毁，而需要再保留一段时间然后再销毁。这是为了确保受其保护的其他 密钥和数据得以妥善处理。只要密钥尚未销毁，就必须对其进行保护，丝毫不能疏忽大意。 密钥销毁要彻底清除密钥的一切存储形态和相关信息，使得重复这一密钥成为不可能。这里 既包括处于产生、分发、存储和工作状态的密钥及相关信息，也包括处于备份状态的密钥和 相关信息。

值得注意的是，要采用妥善的清除存储器的方法。对于磁记录存储器，简单地删除、清 0 或写 1 都是不安全的。


## Ref

