# Asymmetric Key Distribution (AKD)

[TOC]



## Res


## Basic Asymmetric Key Distributions
### 1️⃣ 公开发布
公钥密码体制出现的原因之一就是为了解决密钥分发问题，也就是公钥密码体制中的公 钥可以公开，任一通信方可以将他的公钥发送给另一通信方或广播给其他通信各方。这种方 法的突出优点是简便，密钥的分发不需要特别的安全渠道，相应地降低密钥管理的要求和成 本;缺点是不能确保公钥的真实性和完整性，可能出现伪造公钥的公开发布，即某个用户可 以假冒别的用户发送或广播公钥

### 2️⃣ 公用目录表
维护一个动态可访问的公钥目录(目录就是一组维护着用户信息的数据库服务器)可以 获得更大的安全性。这种方法要求一个称为目录管理员的可信的实体或组织负责这个公开目 录的维护，其他用户可以基于公开渠道访问该公钥目录来获取公钥。

这种方法比由个人公开发布公钥要安全，但它也存在严重的缺点:一旦攻击者获知目录 管理员的私钥，则他可以假冒任何通信方，传递伪造的公钥，或者修改目录管理员保存的记 录，从而窃取发送给该通信方的消息;用户必须要知道这个公开目录的路径且信任该目录。


### 3️⃣ 带认证的公钥分发(在线服务器方式)
一个更安全的公钥分发方法是在建立公钥目录的基础上增加认证功能:目录管理员负责 维护通信各方公钥的动态目录，每一通信方可靠地知道该目录管理员的公钥，并且只有管理 员知道对应的私钥。管理员向请求方返回经自己的私钥签名后的被查找用户的公钥，请求方 可以用管理员的公钥对所获取的签名变换过的公钥进行验证，从而确定该公钥的真实性。实 际上，这是一种在线服务器式公钥分发解决方案。这种方案的处理步骤如下:

1 A 发送一条带有时间戳的消息给公钥目录管理员，以请求 B 的当前公钥;

2 管理员 M 给 A 发送一条用其私钥 KRM 签名后的包括 B 的公钥 KRB 在内的消息， 这样 A 就可用管理员的公钥对接收到的消息验证，因此 A 可以确信该消息来自管理员;

3 A 保存 B 的公钥，并用它对包含 A 的标识和及时交互号的消息加密，然后发送给 B， 其中及时交互号用来唯一标识本次信息交换;

4 与 A 获取 B 的公钥一样，B 以同样的方法从管理员处检索出 A 的公钥。

该方案的缺点:只要用户与其他用户通信，就必须向目录管理员申请对方的公钥，故可 信服务器必须在线，这可能导致可信服务器成为一个瓶颈。


### 4️⃣ 使用数字证书的公钥分发(离线服务器方式)
为了克服在线服务器式公钥分发解决方案的缺点，通信各方可以使用证书来交换密钥， 获得与其相同的可靠性和更好的灵活性。采用数字签名技术来确保公钥的真实性和完整性: 将用户的标识符和用户的公钥联系在一起签名，便将用户的标识符和用户的公钥绑定在一 起。如果破坏了这种对应关系，验证签名时将能够发现。由此可见，采用数字签名技术可以 确保公钥的安全分发。这里经过签名的一组信息的集合被称为证书，而可信的实体 X 被称为证书机构 CA(Certification Authority)。 一般地讲，证书是一个数据结构，是一种由一个可信任的管理机构签署的信息集合。

在不同的应用中有不同的证书。例如公钥证书、PGP 证书、SET 证书等。但这里只讨论公 钥证书。

公钥证书是一种包含持证主体标识、持证主体公钥等信息，并由可信任的 CA 签署的信 息集合。公钥证书主要用于确保公钥及其与用户绑定关系的安全。公钥证书的持证主体可以 是人、设备、组织机构或其他主体。公钥证书的内容主要包括用户的名称、用户的公钥，证 书的有效日期和 CA 的签名等。公钥证书能以明文的形式进行存储和分发。任何一个用户只 要知道签证机构的公钥，就能检查对证书的签名的合法性。如果检查正确，那么用户就可以 相信那个证书所携带的公钥是真实的，而且这个公钥就是证书所标识的那个主体的合法的公 钥。

有了公钥证书系统后，如果某个用户需要任何其他已向 CA 注册的用户的公钥，可向持 证人(或证书机构)直接索取其公钥证书，并用 CA 的公钥验证 CA 的签名，从而获得可信的 公钥。由于公钥证书不需要保密，可以在互联网上分发，从而实现公钥的安全分发。又由于 公钥证书有 CA 的签名，攻击者不能伪造合法的公钥证书。因此，只要 CA 是可信的，公钥 证书就是可信的。其中 CA 公钥的获得也是通过证书方式进行的，为此 CA 也为自己颁发公 钥证书。

使用公钥证书的主要好处是，用户只要获得 CA 的公钥，就可以安全地获得其他用户的 公钥。因此公钥证书为公钥的分发奠定了基础，成为公开密钥密码在大型网络系统中应用的 关键技术。这就是电子政务、电子商务等大型网络应用系统都采用公钥证书技术的原因。




## Ref

