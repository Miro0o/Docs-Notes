# X86-64 ASM

[TOC]



## Res


## Intro
![|700](../../../../../../Assets/Pics/Pasted%20image%2020230313135214.png)










## Ref
[Need help understand the order of execution from assembly]: https://stackoverflow.com/questions/60271710/need-help-understand-the-order-of-execution-from-assembly
[What is stack frame in assembly?]: https://stackoverflow.com/q/3699283/16542494


___
[How many registers does an x86_64 CPU actually have? | Stackexchange]: https://reverseengineering.stackexchange.com/a/19694

Wikipedia has a page about the x86 architecture and [all its known registers](https://en.wikipedia.org/wiki/X86#x86_registers). Here is a small picture gathering all what we know about it.

![](../../../../../../Assets/Pics/al%20registers.png)


In fact, not all these registers are officially documented. But, all the registers we know (and we know how to use) are listed in the picture. And, it makes much more than 40.

And, I do not know what are these 'hardware' or 'architectural' registers, because for me they are all 'hardware' (not software simulated). And, what we call a CPU architecture is also including the list of available hardware registers. So, up to my knowledge, they are all both hardware and architectural registers.



[How many registers does an x86_64 CPU actually have? | Stackexchange]: https://reverseengineering.stackexchange.com/a/19696

I believe the discrepancy between 40 and actual sum of 48 is mostly an error, however there are many other registers used for handling hardware, memory management, and control of different features of the CPU. 

The answer you linked to covers all the commonly used registers in the following image (taken from there):

![](../../../../../../Assets/Pics/x86%20registers%20map.png)

There are, however plenty of less commonly known registers. Those registers are not likely used by user mode programs but used to control and initialize the processor and low-level constructs the CPU is aware of. They control CPU subsystems such as the MMU unit, task scheduling, etc. Documentation of those registers can be found in the [AMD64 Architecture Manual](https://support.amd.com/techdocs/24593.pdf).

You can see most of them in the following figure, taken from the [AMD64 Architecture Manual](https://support.amd.com/techdocs/24593.pdf):

![](../../../../../../Assets/Pics/amd64%20registers%20.png)

Not in the above picture is the new Extended Control Registers family of registers, for which only `XCR0` is currently defined. 

The System Registers are part of the Model Specific Registers that, as the name implied, are model specific. The variety also changes between CPUs. A full list for the AMD64 architecture can be found in "Appendix A MSR Cross-Reference" of the [AMD64 Architecture Manual](https://support.amd.com/techdocs/24593.pdf).

There are _extensions_ that certain AMD64 based CPUs support/implement that extend the set of `XMM` registers available. The `XMM` (and later `YMM` and `ZMM`) are currently extended to up to 32 registers of 512 bit each in [AVX-512](https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#AVX-512). Similar to general registers, `XMM` registers allow access to the lower parts of their `YMM` and `ZMM` counterparts.

There are additionally what's called "memory mapped registers" which basically means those registers are accessed through memory operations instead of designated instructions. They can be, depending on your definition, countered as registers. One such example is the "APIC Registers" described in section 16.3.2 of the AMD64 

There are even internal registers that are not exposed through the instruction set but are used for performance reasons.

