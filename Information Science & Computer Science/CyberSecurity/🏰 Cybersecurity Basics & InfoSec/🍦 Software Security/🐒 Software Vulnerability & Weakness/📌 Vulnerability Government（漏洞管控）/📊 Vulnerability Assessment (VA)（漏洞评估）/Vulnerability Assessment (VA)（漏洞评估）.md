# Vulnerability Assessment (VA)ÔºàÊºèÊ¥ûËØÑ‰º∞Ôºâ

[TOC]



## Res
### Related Topics


### Learning Resources



## Intro
The goal of passive and active reconnaissance is to identify the exploitable target and vulnerability assessment is to find the security flaws that are most likely to support the tester's or attacker's objective (denial of service, theft, or modification of data). **The vulnerability assessment during the exploit phase of the kill chain focuses on creating the access to achieve the objective** -- mapping of the vulnerabilities to line up the exploits and to maintain persistent access to the target.

Thousands of exploitable vulnerabilities have been identified, and most are associated with at least one proof-of-concept code file or technique to allow the system to be compromised. Nevertheless, the underlying principles that govern success are the same across networks, operating systems, and applications.


### Contents in this chapter
- Using online and local vulnerability resources
- Vulnerability scanning with `Nmap`
- Lua scripting
- Writing your own `Nmap` script using **`Nmap Scripting Engine`** (**NSE**) Selecting and customizing multiple vulnerability scanners
- Installing `Nexpose` and `Nessus Threat modeling` in general


### üîç Local and Online Vulnerability Databases
Penetration testers and attackers must find the particular exploits that will compromise known and suspected vulnerabilities. 

1Ô∏è‚É£ The first place to start the search is at vendor sites; most hardware and application vendors release information about vulnerabilities when they release patches and upgrades. 

2Ô∏è‚É£ Other online sites that collect, analyze, and share information about vulnerabilities like ‚Üó [Vulnerability Databases & Sources](../Vulnerability%20Databases%20&%20Sources/Vulnerability%20Databases%20&%20Sources.md)
#### üëâ `searchsploit` (kali)
ü•∞ The Exploit database is also copied locally to Kali and it can be found in the `/usr/share/exploitdb` directory.

To search the local copy of `exploitdb`, open a Terminal window and enter `searchsploit` and the desired search term(s) in the command prompt.

> üí°
> The search script scans for each line in the CSV file from left to right, so the order of the search terms is important; a search for *Oracle 10g* will return several exploits, but *10g Oracle* will not return any. Also, the script is weirdly case sensitive; although you are instructed to use lowercase characters in the search term, a search for *vsFTPd* returns no hits, but *vs FTPd* returns more hits with a space between *vs* and *FTP*. More effective searches of the CSV file can be conducted using the *grep* command or a search tool such as *KWrite* *(**apt-get install kwrite**).*


### üêû Issues with Vulnerability Databases
There are several issues that make the use of such exploits problematic, even dangerous, for penetration testers, which are listed as follows:

- Deliberate errors or incomplete source code are commonly encountered as experienced developers attempt to keep exploits away from inexperienced users, especially beginners who are trying to compromise systems without knowing the risks that go with their actions.  
- Exploits are not always sufficiently documented; after all, there is no standard that governs the creation and use of code intended to be used to compromise a data system. As a result, they can be difficult to use, particularly for testers who lack expertise in application development. 
- Inconsistent behaviors due to changing environments (new patches applied to the target system and language variations in the target application) may require significant alterations to the source code; again, this may require a skilled developer.
- There is always the risk of freely available code containing malicious functionalities. A penetration tester may think that they are conducting a **proof of concept (POC)** exercise and will be unaware that the exploit has also created a backdoor in the application being tested that could be used by the developer.



## Vulnerability Nomenclature
Vulnerability scanning employs automated processes and applications to identify vulnerabilities in a network, system, operating system, or application that may be exploitable.

- ü•∞ When performed correctly, a vulnerability scan delivers an inventory of devices (both authorized and rogue devices), known vulnerabilities that have been actively scanned for, and usually a confirmation of how compliant the devices are with various policies and regulations.

- üò¢ Unfortunately, vulnerability scans are loud; they deliver multiple packets that are easily detected by most network controls and make stealth almost impossible to achieve. They also suffer from the following additional limitations:
	- For the most part, vulnerability scanners are signature-based; they can only detect known vulnerabilities, and only if there is an existing recognition signature that the scanner can apply to the target. To a penetration tester, the most effective scanners are open source and they allow the tester to rapidly modify code to detect new vulnerabilities.
	- Scanners produce large volumes of output, frequently containing false- positive results that can lead a tester astray; in particular, networks with different operating systems can produce false-positives with a rate as high as 70 percent.
	- Scanners may have a negative impact on the network; they can create network latency or cause the failure of some devices, It is recommended to tweak the scan by removing denial of service type plugins during initial scans.  
	- In certain jurisdictions, scanning is considered hacking, and may constitute an illegal act.



## Threat modeling
Offensive threat modeling is a formal approach that combines the results of reconnaissance and research to develop an attack strategy. An attacker has to consider the available targets and identify the types of targets, listed as follows:
- **Primary targets**: These are the primary entry point targets to any organization and when compromised, they serve the objective of a penetration test
- **Secondary targets**: These targets may provide information (security controls, password and logging policies, and local and domain administrator names and passwords) to support an attack or allow access to a primary target
- **Tertiary targets**: These targets may be unrelated to the testing or attack objective, but are relatively easy to compromise and may provide information or a distraction from the actual attack






## Ref